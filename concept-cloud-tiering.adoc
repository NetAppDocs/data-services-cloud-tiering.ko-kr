---
sidebar: sidebar 
permalink: concept-cloud-tiering.html 
keywords: cloud tiering, overview, conceptual, value, features, cost, charging, tiering policies, cooling period, fabricpool, netapp console, console, bluexp 
summary: NetApp의 클라우드 계층화 서비스는 온프레미스 ONTAP 클러스터에서 비활성 데이터를 자동으로 계층화하여 데이터 센터를 클라우드로 확장합니다.  이렇게 하면 애플리케이션 계층을 변경하지 않고도 클러스터에서 귀중한 공간을 확보하여 더 많은 작업 부하를 처리할 수 있습니다.  클라우드 티어링을 사용하면 데이터 센터 비용을 절감하고 CAPEX 모델에서 OPEX 모델로 전환할 수 있습니다. 
---
= NetApp Cloud Tiering 에 대해 알아보세요
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Cloud Tiering 온프레미스 ONTAP 클러스터에서 비활성 데이터를 개체 스토리지로 자동 계층화하여 데이터 센터를 클라우드로 확장합니다.  이렇게 하면 애플리케이션 계층을 변경하지 않고도 클러스터에서 귀중한 공간을 확보하여 더 많은 작업 부하를 처리할 수 있습니다.  클라우드 티어링을 사용하면 데이터 센터 비용을 절감하고 CAPEX 모델에서 OPEX 모델로 전환할 수 있습니다.

클라우드 티어링은 _FabricPool_의 기능을 활용합니다.  FabricPool 은 저렴한 객체 스토리지에 데이터를 자동으로 계층화할 수 있는 NetApp Data Fabric 기술입니다.  활성(핫) 데이터는 로컬 계층(온프레미스 ONTAP 집계)에 남아 있는 반면, 비활성(콜드) 데이터는 클라우드 계층으로 이동합니다. 이 모든 과정에서 ONTAP 데이터 효율성이 유지됩니다.

원래 모든 SSD 집계를 갖춘 AFF, FAS 및 ONTAP Select 시스템에서 지원되었으며 ONTAP 9.8부터 고성능 SSD 외에도 HDD로 구성된 집계에서 데이터를 계층화할 수 있습니다.  보다 https://docs.netapp.com/us-en/ontap/fabricpool/requirements-concept.html["FabricPool 사용에 대한 고려 사항 및 요구 사항"^] 자세한 내용은.

FabricPool Mirror를 사용하여 단일 노드 클러스터, HA 구성 클러스터, Tiering Mirror 구성의 클러스터 및 MetroCluster 구성에 대한 계층화를 구성할 수 있습니다.  클라우드 티어링 라이선스는 모든 클러스터에서 공유됩니다.

https://bluexp.netapp.com/cloud-tiering-service-tco["클라우드 계층화 TCO 계산기를 사용하여 얼마나 많은 비용을 절감할 수 있는지 확인하세요."^].



== NetApp Console

NetApp Cloud Tiering NetApp Console 통해 접근할 수 있습니다.

NetApp Console 기업 규모로 온프레미스 및 클라우드 환경 전반에서 NetApp 스토리지 및 데이터 서비스를 중앙에서 관리할 수 있는 기능을 제공합니다. NetApp 데이터 서비스에 액세스하고 사용하려면 콘솔이 필요합니다. 관리 인터페이스로서, 하나의 인터페이스에서 여러 스토리지 리소스를 관리할 수 있습니다. 콘솔 관리자는 기업 내 모든 시스템의 저장소와 서비스에 대한 액세스를 제어할 수 있습니다.

NetApp Console 사용하려면 라이선스나 구독이 필요하지 않으며, 스토리지 시스템이나 NetApp 데이터 서비스에 대한 연결을 보장하기 위해 클라우드에 콘솔 에이전트를 배포해야 할 때만 요금이 부과됩니다. 그러나 콘솔에서 액세스할 수 있는 일부 NetApp 데이터 서비스는 라이선스 기반이거나 구독 기반입니다.

자세히 알아보세요 https://docs.netapp.com/us-en/bluexp-setup-admin/concept-overview.html["NetApp Console"] .



== 특징

클라우드 티어링은 자동화, 모니터링, 보고서 및 공통 관리 인터페이스를 제공합니다.

* 자동화를 통해 온프레미스 ONTAP 클러스터에서 클라우드로의 데이터 계층화를 보다 쉽게 ​​설정하고 관리할 수 있습니다.
* 기본 클라우드 공급자 스토리지 클래스/액세스 계층을 선택하거나 수명 주기 관리를 사용하여 이전 계층 데이터에 비용 효율적인 계층을 할당할 수 있습니다.
* 클러스터의 다른 집계에 사용할 수 있는 추가 개체 저장소에 대한 연결을 만들 수 있습니다.
* UI를 사용하면 개체 저장소를 집계로 끌어서 계층화하고 FabricPool 미러링할 수 있습니다.
* 단일 창을 통해 여러 클러스터에 걸쳐 FabricPool 독립적으로 관리할 필요가 없습니다.
* 보고서는 각 클러스터의 활성 데이터와 비활성 데이터의 양을 보여줍니다.
* 계층적 건강 상태는 문제가 발생할 때 이를 식별하고 수정하는 데 도움이 됩니다.
* Cloud Volumes ONTAP 시스템이 있는 경우 클러스터 페이지에서 해당 시스템을 찾을 수 있으며, 이를 통해 하이브리드 클라우드 인프라의 데이터 계층화를 전체적으로 볼 수 있습니다.


Cloud Tiering이 제공하는 가치에 대한 자세한 내용은 다음과 같습니다. https://bluexp.netapp.com/cloud-tiering["NetApp Console 웹사이트에서 클라우드 계층화 페이지를 확인하세요."^] .


TIP: Cloud Volumes ONTAP 시스템은 Cloud Tiering에서 읽기 전용입니다. https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-tiering.html["NetApp Console 에서 Cloud Volumes ONTAP 시스템에 대한 계층화를 설정합니다."^] .



== 지원되는 개체 스토리지 공급자

온프레미스 ONTAP 시스템에서 비활성 데이터를 다음 개체 스토리지 공급자로 계층화할 수 있습니다.

* 아마존 S3
* 마이크로소프트 애저 블롭
* 구글 클라우드 스토리지
* NetApp StorageGRID
* S3 호환 객체 스토리지(예: MinIO)


Cloud Tiering 라이선스는 IBM Cloud Object Storage에 데이터를 계층화하는 클러스터와도 공유할 수 있습니다.  FabricPool 구성은 시스템 관리자 또는 ONTAP CLI를 사용하여 설정해야 하지만link:task-licensing-cloud-tiering.html#apply-bluexp-tiering-licenses-to-clusters-in-special-configurations["이러한 유형의 구성에 대한 라이선싱은 Cloud Tiering을 사용하여 완료됩니다."]


NOTE: StorageGRID 와 같이 NAS 볼륨의 데이터를 퍼블릭 클라우드나 프라이빗 클라우드로 계층화할 수 있습니다.  SAN 프로토콜을 통해 액세스되는 데이터를 계층화하는 경우 NetApp 연결 고려 사항으로 인해 프라이빗 클라우드를 사용할 것을 권장합니다.



=== 객체 스토리지 계층

ONTAP 클러스터는 비활성 데이터를 단일 개체 저장소 또는 여러 개체 저장소에 계층화할 수 있습니다.  데이터 계층화를 설정할 때 새 버킷/컨테이너를 추가하거나 기존 버킷/컨테이너와 스토리지 클래스 또는 액세스 계층을 선택할 수 있습니다.

* link:reference-aws-support.html["지원되는 AWS S3 스토리지 클래스에 대해 알아보세요"]
* link:reference-azure-support.html["지원되는 Azure Blob 액세스 계층에 대해 알아보세요."]
* link:reference-google-support.html["지원되는 Google Cloud 스토리지 클래스에 대해 알아보세요"]


클라우드 티어링은 비활성 데이터에 대해 클라우드 공급자의 기본 스토리지 클래스/액세스 계층을 사용합니다.  하지만 수명 주기 규칙을 적용하면 특정 기간이 지나면 데이터가 기본 저장소 클래스에서 다른 저장소 클래스로 자동 전환됩니다.  이렇게 하면 활용도가 낮은 데이터를 비용이 덜 드는 저장소로 옮겨 비용을 절감하는 데 도움이 될 수 있습니다.


NOTE: StorageGRID 또는 S3 호환 스토리지에 계층화된 데이터의 경우 수명 주기 규칙을 선택할 수 없습니다.



== 가격 및 라이센스

사용량 기반 구독, 연간 구독, 자체 NetApp 계층화 라이선스 또는 이 둘을 조합하여 클라우드 계층화 비용을 지불하세요.  라이선스가 없어도 첫 번째 클러스터에 대해 30일 무료 평가판을 사용할 수 있습니다.

StorageGRID 에 데이터를 계층화할 때 비용이 청구되지 않습니다.  BYOL 라이센스나 PAYGO 등록은 필요하지 않습니다.

https://bluexp.netapp.com/pricing#tiering["가격 세부 정보 보기"^].

클라우드 티어링은 소스 볼륨의 스토리지 효율성을 보존하므로 ONTAP 효율성(중복 제거 및 압축이 적용된 후 더 적은 양의 데이터에 대한 비용) 이후에 계층화된 데이터에 대해 클라우드 공급자 개체 스토리지 비용을 지불합니다.



=== 30일 무료 체험

클라우드 티어링 라이선스가 없으면 첫 번째 클러스터에 티어링을 설정하면 30일 무료 티어링 평가판이 시작됩니다.  30일 무료 체험 기간이 종료되면 사용량 기반 구독, 연간 구독, BYOL 라이선스 또는 이 둘을 조합하여 티어링 비용을 지불해야 합니다.

무료 평가판이 종료되고 구독하거나 라이선스를 추가하지 않으면 ONTAP 더 이상 콜드 데이터를 개체 스토리지에 계층화하지 않습니다.  이전에 계층화된 모든 데이터는 계속 액세스할 수 있습니다. 즉, 이 데이터를 검색하여 사용할 수 있습니다.  검색된 데이터는 클라우드에서 성능 계층으로 다시 이동됩니다.



=== 사용량에 따라 지불하는 구독

클라우드 티어링은 사용량에 따라 비용을 지불하는 모델로 소비 기반 라이선스를 제공합니다.  클라우드 공급업체의 마켓플레이스를 통해 구독한 후, 계층화된 데이터에 대해 GB당 요금을 지불합니다. 선불금은 없습니다.  귀하는 월별 청구서를 통해 클라우드 제공자로부터 요금을 청구받습니다.

무료 평가판이 있거나 자체 라이선스를 가져오는 경우(BYOL)에도 구독해야 합니다.

* 구독하면 무료 체험 기간이 종료된 후에도 서비스가 중단되지 않습니다.
+
체험 기간이 종료되면 선택한 티어의 데이터 양에 따라 시간당 요금이 청구됩니다.

* BYOL 라이선스에서 허용하는 것보다 더 많은 데이터를 계층화하는 경우, 데이터 계층화는 사용량에 따른 요금제 구독을 통해 계속됩니다.
+
예를 들어, 10TB 라이선스가 있는 경우 10TB를 초과하는 모든 용량은 사용량에 따른 요금제 구독을 통해 청구됩니다.



무료 평가판 기간 동안 또는 Cloud Tiering BYOL 라이선스를 초과하지 않은 경우, 종량제 구독 요금이 청구되지 않습니다.

link:task-licensing-cloud-tiering.html#use-a-bluexp-tiering-paygo-subscription["사용량에 따른 요금제 구독을 설정하는 방법을 알아보세요"].



=== 연간 계약

Cloud Tiering은 비활성 데이터를 Amazon S3 또는 Azure로 계층화할 때 연간 계약을 제공합니다.  1년, 2년, 3년 단위로 이용 가능합니다.

현재 Google CLoud로 계층화할 때 연간 계약은 지원되지 않습니다.



=== 면허증을 직접 가져오세요

NetApp 에서 *클라우드 계층화* 라이선스(이전에는 "클라우드 계층화" 라이선스라고 함)를 구매하여 자체 라이선스를 가져오세요.  1년, 2년 또는 3년 기간의 라이선스를 구매하고 원하는 만큼의 계층화 용량을 지정할 수 있습니다(최소 10TiB부터 시작).  BYOL 클라우드 티어링 라이선스는 여러 온프레미스 ONTAP 클러스터에서 사용할 수 있는 _플로팅_ 라이선스입니다.  Cloud Tiering 라이선스에 정의한 총 계층화 용량은 모든 온프레미스 클러스터에서 사용할 수 있습니다.

클라우드 계층화 라이선스를 구매한 후에는 NetApp Console 에 라이선스를 추가해야 합니다. link:task-licensing-cloud-tiering.html#use-a-bluexp-tiering-byol-license["Cloud Tiering BYOL 라이선스를 사용하는 방법을 알아보세요."] .

위에서 언급한 대로 BYOL 라이선스를 구매한 경우에도 사용량에 따라 요금을 지불하는 구독을 설정하는 것이 좋습니다.


NOTE: 2021년 8월부터 기존의 * FabricPool* 라이선스가 *Cloud Tiering* 라이선스로 대체되었습니다. link:task-licensing-cloud-tiering.html#bluexp-tiering-byol-licensing-starting-in-2021["Cloud Tiering 라이선스가 FabricPool 라이선스와 어떻게 다른지 자세히 알아보세요."] .



== 클라우드 티어링 작동 방식

Cloud Tiering은 FabricPool 기술을 사용하여 온프레미스 ONTAP 클러스터의 비활성(콜드) 데이터를 퍼블릭 클라우드 또는 프라이빗 클라우드의 개체 스토리지로 자동으로 계층화하는 NetApp 관리 서비스입니다.  ONTAP 에 대한 연결은 콘솔 에이전트에서 이루어집니다.

다음 이미지는 각 구성 요소 간의 관계를 보여줍니다.

image:diagram_cloud_tiering.png["클라우드 공급자의 콘솔 에이전트에 연결된 Cloud Tiering 서비스, ONTAP 클러스터에 연결된 에이전트, ONTAP 클러스터와 클라우드 공급자의 개체 스토리지 간의 연결을 보여주는 아키텍처 이미지입니다.  활성 데이터는 ONTAP 클러스터에 저장되고, 비활성 데이터는 개체 스토리지에 저장됩니다."]

높은 수준에서 클라우드 티어링은 다음과 같이 작동합니다.

. NetApp Console 에서 온프레미스 클러스터를 검색할 수 있습니다.
. 버킷/컨테이너, 스토리지 클래스 또는 액세스 계층, 계층화된 데이터의 수명 주기 규칙을 포함하여 개체 스토리지에 대한 세부 정보를 제공하여 계층화를 설정합니다.
. 콘솔은 ONTAP 구성하여 개체 스토리지 공급자를 사용하고 클러스터에서 활성 및 비활성 데이터의 양을 파악합니다.
. 계층화할 볼륨과 해당 볼륨에 적용할 계층화 정책을 선택합니다.
. ONTAP 데이터가 비활성으로 간주되는 임계값에 도달하자마자 비활성 데이터를 개체 저장소로 계층화하기 시작합니다(참조).<<볼륨 티어링 정책>> ).
. 계층화된 데이터에 수명 주기 규칙을 적용한 경우(일부 공급업체에서만 사용 가능), 특정 기간이 지난 이전 계층화된 데이터는 더 비용 효율적인 계층에 할당됩니다.




=== 볼륨 티어링 정책

계층화하려는 볼륨을 선택하면 각 볼륨에 적용할 _볼륨 계층화 정책_을 선택합니다.  계층화 정책은 볼륨의 사용자 데이터 블록을 클라우드로 이동할지 여부나 시기를 결정합니다.

*냉각 기간*도 조절할 수 있습니다.  이는 볼륨의 사용자 데이터가 "콜드" 상태로 간주되어 개체 스토리지로 이동되기 전에 비활성 상태로 유지되어야 하는 일수입니다.  냉각 기간을 조정할 수 있는 계층화 정책의 경우 유효한 값은 다음과 같습니다.

* ONTAP 9.8 이상 사용 시 2~183일
* 이전 ONTAP 버전의 경우 2~63일


2~63이 권장되는 모범 사례입니다.

정책 없음(없음):: 데이터를 성능 계층의 볼륨에 보관하여 클라우드 계층으로 이동하지 못하도록 방지합니다.
콜드 스냅샷(스냅샷만 해당):: ONTAP 계층은 활성 파일 시스템과 공유되지 않는 볼륨의 콜드 스냅샷 블록을 개체 스토리지로 계층화합니다.  읽을 경우, 클라우드 계층의 콜드 데이터 블록이 핫 데이터 블록이 되어 성능 계층으로 이동됩니다.
+
--
데이터는 집계 용량의 50%에 도달하고 데이터가 냉각 기간에 도달한 경우에만 계층화됩니다.  냉각 일수의 기본 수는 2일이지만, 이 숫자를 조정할 수 있습니다.


NOTE: 재가열된 데이터는 공간이 있는 경우에만 성능 계층에 다시 기록됩니다.  성능 계층 용량이 70% 이상 채워진 경우 클라우드 계층에서 블록에 계속 액세스할 수 있습니다.

--
콜드 사용자 데이터 및 스냅샷(자동):: ONTAP 볼륨의 모든 콜드 블록(메타데이터 제외)을 개체 스토리지로 계층화합니다.  콜드 데이터에는 스냅샷 복사본뿐만 아니라 활성 파일 시스템의 콜드 사용자 데이터도 포함됩니다.
+
--
* 무작위 읽기로 읽는 경우, 클라우드 계층의 콜드 데이터 블록이 핫 블록이 되어 성능 계층으로 이동됩니다.
* 인덱스 및 바이러스 백신 검사와 관련된 순차적 읽기로 읽는 경우 클라우드 계층의 콜드 데이터 블록은 콜드 상태로 유지되며 성능 계층에 기록되지 않습니다.
+
이 정책은 ONTAP 9.4부터 사용할 수 있습니다.

+
데이터는 집계 용량의 50%에 도달하고 데이터가 냉각 기간에 도달한 경우에만 계층화됩니다.  기본 냉각 일수는 31일이지만, 이 숫자를 조정할 수 있습니다.

+

NOTE: 재가열된 데이터는 공간이 있는 경우에만 성능 계층에 다시 기록됩니다.  성능 계층 용량이 70% 이상 채워진 경우 클라우드 계층에서 블록에 계속 액세스할 수 있습니다.



--
모든 사용자 데이터(All):: 모든 데이터(메타데이터 제외)는 즉시 콜드 데이터로 표시되고 가능한 한 빨리 개체 스토리지에 계층화됩니다. 볼륨의 새로운 블록이 차가워질 때까지 48시간을 기다릴 필요가 없습니다. 모든 정책이 설정되기 전 볼륨에 위치한 블록은 차가워지는 데 48시간이 필요합니다.
+
--
읽을 경우, 클라우드 계층의 콜드 데이터 블록은 콜드 상태로 유지되며 성능 계층에 다시 기록되지 않습니다. 이 정책은 ONTAP 9.6부터 사용할 수 있습니다.

이 계층화 정책을 선택하기 전에 다음 사항을 고려하세요.

* 데이터를 계층화하면 스토리지 효율성이 즉시 저하됩니다(인라인만 해당).
* 볼륨의 콜드 데이터가 변경되지 않을 것이라고 확신하는 경우에만 이 정책을 사용해야 합니다.
* 객체 스토리지는 트랜잭션이 이루어지지 않으므로 변경이 이루어지면 상당한 조각화가 발생합니다.
* 데이터 보호 관계의 소스 볼륨에 모든 계층화 정책을 할당하기 전에 SnapMirror 전송의 영향을 고려하세요.
+
데이터가 즉시 계층화되므로 SnapMirror 성능 계층이 아닌 클라우드 계층에서 데이터를 읽습니다.  이로 인해 SnapMirror 작업이 더 느려지고, 대기열에 있는 다른 SnapMirror 작업도 느려질 수 있습니다. 이는 서로 다른 계층화 정책을 사용하더라도 마찬가지입니다.

* NetApp Backup and Recovery 도 계층화 정책으로 설정된 볼륨의 영향을 받습니다. https://docs.netapp.com/us-en/bluexp-backup-recovery/concept-ontap-backup-to-cloud.html#fabricpool-tiering-policy-considerations["백업 및 복구를 통한 계층화 정책 고려 사항 보기"^] .


--
모든 DP 사용자 데이터(백업):: 데이터 보호 볼륨의 모든 데이터(메타데이터 제외)는 즉시 클라우드 계층으로 이동됩니다.  읽을 경우, 클라우드 계층의 콜드 데이터 블록은 콜드 상태를 유지하며 성능 계층에 다시 기록되지 않습니다( ONTAP 9.4부터).
+
--

NOTE: 이 정책은 ONTAP 9.5 이하 버전에서 사용할 수 있습니다.  ONTAP 9.6부터 *모든* 계층화 정책으로 대체되었습니다.

--

